import{d as q,r as h,a as x,c as i,b as e,n as a,u as d,e as g,w as M,f as u,v,k as w,t as b,g as k,h as _,i as y,j as R,o as f,_ as U}from"./index-DJIvJS1r.js";const S=["src"],j={class:"relative"},F={class:"relative"},H={key:0,class:"mt-1 text-xs text-red-500"},I={class:"relative flex space-x-2"},N={class:"relative flex-1"},$=["disabled"],z={class:"relative"},A=["type"],G={key:0,class:"mt-1 text-xs text-red-500"},E={class:"relative"},L=["type"],W={key:0,class:"mt-1 text-xs text-red-500"},Y={class:"flex items-start"},J={class:"flex h-5 items-center"},K=["disabled"],O={key:0,class:"inline-flex items-center"},Q={key:1},X=q({__name:"RegisterView",setup(ee){const t=h({username:"",phone:"",verifyCode:"",password:"",confirmPassword:"",agreeTerms:!1}),o=h({phone:"",password:"",confirmPassword:""}),p=x(!1),c=x(!1),m=x(!1),n=x(0),P=()=>{c.value=!c.value},C=()=>{m.value=!m.value},V=()=>{window.history.back()},D=async()=>{if(!/^1[3-9]\d{9}$/.test(t.phone)){o.phone="请输入有效的手机号码";return}o.phone="";try{console.log("Sending verification code to:",t.phone),await new Promise(r=>setTimeout(r,1e3)),n.value=60;const s=setInterval(()=>{n.value--,n.value<=0&&clearInterval(s)},1e3)}catch(s){console.error("Failed to send verification code:",s)}},B=()=>{let l=!0;return/^1[3-9]\d{9}$/.test(t.phone)?o.phone="":(o.phone="请输入有效的手机号码",l=!1),t.password.length<6?(o.password="密码长度至少为6位",l=!1):o.password="",t.password!==t.confirmPassword?(o.confirmPassword="两次输入的密码不一致",l=!1):o.confirmPassword="",l},T=async()=>{if(B()){p.value=!0;try{console.log("Registering with:",t),await new Promise(l=>setTimeout(l,2e3)),R.push("/home")}catch(l){console.error("Registration failed:",l)}finally{p.value=!1}}};return(l,s)=>(f(),i("div",{class:a(["min-h-screen bg-orange-50",{"lg:px-[var(--viewport-padding)] lg:py-8":d(g).isDesktop}])},[e("div",{class:a({"mx-auto lg:max-w-md lg:overflow-hidden lg:rounded-2xl lg:bg-white lg:shadow-xl":d(g).isDesktop})},[e("header",{class:a(["relative h-[150px] w-full overflow-hidden md:h-[180px]",{"lg:h-[220px] lg:rounded-t-2xl":d(g).isDesktop}])},[e("img",{src:d(Z),alt:"Register Banner",class:"h-full w-full object-cover"},null,8,S),e("div",{class:"absolute inset-0 bg-gradient-to-b from-transparent to-black/30"},[e("div",{class:"mx-auto h-full px-4 md:px-6 lg:max-w-7xl lg:px-8"},[e("div",{class:"flex items-center justify-between pt-4"},[e("button",{class:"text-white",onClick:V},s[6]||(s[6]=[e("i",{class:"fas fa-chevron-left text-xl"},null,-1)]))]),s[7]||(s[7]=e("h1",{class:"animate-fade-in mt-4 text-2xl font-bold text-white md:mt-6 md:text-3xl lg:mt-8 lg:text-4xl"}," 用户注册 ",-1))])])],2),e("main",{class:a(["relative z-10 mx-auto -mt-6 px-4 md:px-6",{"lg:mt-0 lg:px-8 lg:py-8":d(g).isDesktop}])},[e("div",{class:a(["animate-slide-up rounded-xl bg-white p-4 shadow-lg md:p-6",{"lg:rounded-xl lg:bg-gray-50/50 lg:p-8 lg:shadow-sm":d(g).isDesktop}])},[e("form",{onSubmit:M(T,["prevent"]),class:"space-y-4 md:space-y-6"},[e("div",null,[s[9]||(s[9]=e("label",{for:"username",class:"mb-2 block text-sm font-medium text-gray-700"},"用户名",-1)),e("div",j,[s[8]||(s[8]=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("i",{class:"fas fa-user text-gray-400"})],-1)),u(e("input",{id:"username","onUpdate:modelValue":s[0]||(s[0]=r=>t.username=r),type:"text",class:"block w-full rounded-lg border border-gray-300 bg-white p-2.5 pl-10 text-gray-900 focus:border-orange-500 focus:ring-orange-500",placeholder:"请输入用户名",required:""},null,512),[[v,t.username]])])]),e("div",null,[s[11]||(s[11]=e("label",{for:"phone",class:"mb-2 block text-sm font-medium text-gray-700"},"手机号",-1)),e("div",F,[s[10]||(s[10]=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("i",{class:"fas fa-mobile-alt text-gray-400"})],-1)),u(e("input",{id:"phone","onUpdate:modelValue":s[1]||(s[1]=r=>t.phone=r),type:"tel",class:"block w-full rounded-lg border border-gray-300 bg-white p-2.5 pl-10 text-gray-900 focus:border-orange-500 focus:ring-orange-500",placeholder:"请输入手机号",required:""},null,512),[[v,t.phone]])]),o.phone?(f(),i("p",H,b(o.phone),1)):w("",!0)]),e("div",null,[s[13]||(s[13]=e("label",{for:"verifyCode",class:"mb-2 block text-sm font-medium text-gray-700"},"验证码",-1)),e("div",I,[e("div",N,[s[12]||(s[12]=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("i",{class:"fas fa-shield-alt text-gray-400"})],-1)),u(e("input",{id:"verifyCode","onUpdate:modelValue":s[2]||(s[2]=r=>t.verifyCode=r),type:"text",class:"block w-full rounded-lg border border-gray-300 bg-white p-2.5 pl-10 text-gray-900 focus:border-orange-500 focus:ring-orange-500",placeholder:"请输入验证码",required:""},null,512),[[v,t.verifyCode]])]),e("button",{type:"button",class:"whitespace-nowrap rounded-lg border border-orange-500 px-3 py-2 text-sm font-medium text-orange-500 hover:bg-orange-50 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2",disabled:n.value>0,onClick:D},b(n.value>0?`${n.value}s后重新获取`:"获取验证码"),9,$)])]),e("div",null,[s[15]||(s[15]=e("label",{for:"password",class:"mb-2 block text-sm font-medium text-gray-700"},"密码",-1)),e("div",z,[s[14]||(s[14]=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("i",{class:"fas fa-lock text-gray-400"})],-1)),u(e("input",{id:"password","onUpdate:modelValue":s[3]||(s[3]=r=>t.password=r),type:c.value?"text":"password",class:"block w-full rounded-lg border border-gray-300 bg-white p-2.5 pl-10 pr-10 text-gray-900 focus:border-orange-500 focus:ring-orange-500",placeholder:"请输入密码",required:""},null,8,A),[[k,t.password]]),e("button",{type:"button",onClick:P,class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500"},[e("i",{class:a(c.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),o.password?(f(),i("p",G,b(o.password),1)):w("",!0)]),e("div",null,[s[17]||(s[17]=e("label",{for:"confirmPassword",class:"mb-2 block text-sm font-medium text-gray-700"},"确认密码",-1)),e("div",E,[s[16]||(s[16]=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("i",{class:"fas fa-lock text-gray-400"})],-1)),u(e("input",{id:"confirmPassword","onUpdate:modelValue":s[4]||(s[4]=r=>t.confirmPassword=r),type:m.value?"text":"password",class:"block w-full rounded-lg border border-gray-300 bg-white p-2.5 pl-10 pr-10 text-gray-900 focus:border-orange-500 focus:ring-orange-500",placeholder:"请再次输入密码",required:""},null,8,L),[[k,t.confirmPassword]]),e("button",{type:"button",onClick:C,class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500"},[e("i",{class:a(m.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),o.confirmPassword?(f(),i("p",W,b(o.confirmPassword),1)):w("",!0)]),e("div",Y,[e("div",J,[u(e("input",{id:"terms","onUpdate:modelValue":s[5]||(s[5]=r=>t.agreeTerms=r),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-orange-500 focus:ring-orange-500",required:""},null,512),[[_,t.agreeTerms]])]),s[18]||(s[18]=e("div",{class:"ml-2 text-sm"},[e("label",{for:"terms",class:"text-gray-600"},[y(" 我已阅读并同意 "),e("a",{href:"#",class:"text-orange-500 hover:underline"},"用户协议"),y(" 和 "),e("a",{href:"#",class:"text-orange-500 hover:underline"},"隐私政策")])],-1))]),e("button",{type:"submit",class:a(["w-full rounded-lg bg-orange-500 px-5 py-3 text-center text-sm font-medium text-white hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2",{"opacity-70":p.value}]),disabled:p.value},[p.value?(f(),i("span",O,s[19]||(s[19]=[e("i",{class:"fas fa-circle-notch fa-spin mr-2"},null,-1),y(" 注册中... ")]))):(f(),i("span",Q,"注册"))],10,K)],32),s[20]||(s[20]=e("div",{class:"mt-4 text-center"},[e("span",{class:"text-sm text-gray-600"},"已有账号? "),e("a",{href:"#",class:"text-sm text-orange-500 hover:underline"},"立即登录")],-1))],2)],2)],2)],2))}}),te=U(X,[["__scopeId","data-v-3dae6cd0"]]),Z="https://images.unsplash.com/photo-1579621970588-a35d0e7ab9b6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80";export{te as default,Z as registerBanner};
