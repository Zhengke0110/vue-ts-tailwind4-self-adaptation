import{d as G,r as J,a as S,z as K,c as n,q as L,k as C,p as D,T as A,b as e,w as O,i as u,f as h,C as Q,F as f,s as w,t as l,v as B,h as W,o as r,_ as X}from"./index-DJIvJS1r.js";const N=[{id:"1",name:"金华古城墙",type:["history","culture"],duration:2,cost:50,description:"始建于南宋时期的古城墙，是金华市重要的历史文化遗产",bestTimeSlot:["morning","afternoon"]},{id:"2",name:"双龙洞",type:["nature","leisure"],duration:3,cost:80,description:"国家4A级景区，具有独特的喀斯特地貌",bestTimeSlot:["morning","afternoon"]},{id:"3",name:"八咏楼",type:["history","culture"],duration:1.5,cost:40,description:"金华市标志性建筑，始建于南宋",bestTimeSlot:["morning","afternoon"]},{id:"4",name:"金华山",type:["nature","leisure","culture"],duration:4,cost:100,description:"金华市著名风景区，集自然景观和人文景观于一体",bestTimeSlot:["morning"]},{id:"5",name:"兰溪诸葛八卦村",type:["history","culture"],duration:3,cost:60,description:"中国历史文化名村，诸葛亮后裔聚居地",bestTimeSlot:["morning","afternoon"]},{id:"6",name:"金华夜市",type:["food","shopping","leisure"],duration:2,cost:100,description:"体验金华本地夜生活的最佳去处",bestTimeSlot:["evening"]},{id:"7",name:"江南长城",type:["history","nature"],duration:3,cost:70,description:"南方罕见的古长城遗址",bestTimeSlot:["morning","afternoon"]},{id:"8",name:"甘棠公园",type:["nature","leisure","culture"],duration:2,cost:0,description:"金华市区最大的综合性公园，是市民休闲娱乐的好去处",bestTimeSlot:["morning","afternoon"]},{id:"9",name:"金华火腿博物馆",type:["culture","food"],duration:1.5,cost:30,description:"了解金华火腿历史文化的专业博物馆",bestTimeSlot:["morning","afternoon"]},{id:"10",name:"东阳木雕城",type:["culture","shopping"],duration:3,cost:0,description:"中国著名的木雕艺术集散地，展示销售东阳木雕艺术品",bestTimeSlot:["morning","afternoon"]},{id:"11",name:"武义温泉",type:["leisure"],duration:4,cost:188,description:'享誉浙中的天然温泉，素有"江南第一温泉"的美誉',bestTimeSlot:["morning","afternoon","evening"]},{id:"12",name:"横店影视城",type:["culture","leisure","entertainment"],duration:6,cost:280,description:"亚洲最大的影视拍摄基地，体验影视文化",bestTimeSlot:["morning","afternoon"]}],U=[{id:"1",name:"老字号金华火腿店",type:["food"],cost:150,description:"百年老字号，正宗金华火腿",bestTimeSlot:["noon","evening"]},{id:"2",name:"金华酱鸭专门店",type:["food"],cost:80,description:"传统金华酱鸭，本地特色美食",bestTimeSlot:["noon","evening"]},{id:"3",name:"武义白族三合豆腐",type:["food"],cost:50,description:"独特的白族豆腐制作工艺",bestTimeSlot:["morning","noon"]},{id:"4",name:"金华大酒店中餐厅",type:["food"],cost:200,description:"提供正宗的金华本地特色菜",bestTimeSlot:["noon","evening"]},{id:"5",name:"老街坊特色小吃",type:["food"],cost:30,description:"汇集金华各类特色小吃",bestTimeSlot:["morning","noon","evening"]},{id:"6",name:"东阳卤味馆",type:["food"],cost:60,description:"正宗的东阳卤味，当地特色美食",bestTimeSlot:["noon","evening"]}],Z={low:{perDay:300,attractions:["金华古城墙","八咏楼","金华夜市"],restaurants:["金华酱鸭专门店"]},medium:{perDay:500,attractions:["双龙洞","金华山","兰溪诸葛八卦村"],restaurants:["老字号金华火腿店","金华酱鸭专门店"]},high:{perDay:800,attractions:["金华山","双龙洞","兰溪诸葛八卦村","江南长城"],restaurants:["老字号金华火腿店","武义白族三合豆腐"]},premium:{perDay:1500,attractions:["横店影视城","武义温泉","东阳木雕城"],restaurants:["金华大酒店中餐厅"],hotels:["金华万豪酒店"],experiences:["横店影视城跟剧组体验","东阳木雕DIY课程"]}},ee={class:"min-h-screen bg-gray-50"},te={class:"container mx-auto px-4 py-8"},se={class:"mx-auto max-w-2xl"},oe={class:"rounded-xl bg-white p-6 ring-1 shadow-lg ring-black/5"},ie={class:"space-y-4"},ne={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},re={class:"space-y-2"},le=["value"],ae={class:"space-y-2"},de={class:"space-y-4"},ce={class:"space-y-4"},ue={class:"flex items-center justify-between"},me={class:"text-sm font-medium text-blue-600"},pe={class:"space-y-4"},be={class:"grid grid-cols-2 gap-4 md:grid-cols-3"},ge=["value"],fe={class:"text-sm text-gray-700"},ye={class:"space-y-4"},xe={key:0,class:"rounded-md bg-red-50 p-4"},ve={class:"flex"},he={class:"ml-3"},we=["disabled"],_e={class:"relative z-10 flex items-center justify-center"},ke={key:1,class:"flex items-center"},Te={key:0,class:"mx-auto mt-12 max-w-4xl"},Se={class:"overflow-hidden rounded-xl bg-white ring-1 shadow-lg ring-black/5"},Ce={class:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white"},Me={class:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-3"},ze={class:"rounded-lg bg-white/10 p-4 backdrop-blur-sm"},Be={class:"mt-1 text-2xl font-bold"},Ve={class:"rounded-lg bg-white/10 p-4 backdrop-blur-sm"},je={class:"mt-1 text-2xl font-bold"},Ie={class:"rounded-lg bg-white/10 p-4 backdrop-blur-sm"},Le={class:"mt-1 text-2xl font-bold"},De={class:"divide-y divide-gray-100"},Ae={class:"mb-4 flex items-center"},Ne={class:"mr-3 flex h-8 w-8 items-center justify-center rounded-full bg-blue-100 text-blue-600"},Ue={class:"text-lg font-semibold"},qe={class:"space-y-4"},Ee={class:"flex items-start space-x-4"},Re={class:"flex h-8 w-20 items-center justify-center rounded bg-gray-100 text-sm font-medium text-gray-600"},Fe={class:"flex-1"},He={class:"font-medium text-gray-900"},Pe={key:0,class:"mt-2"},$e={class:"text-sm text-gray-600"},Ye={class:"mt-2 flex flex-wrap gap-2"},Ge={class:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800"},Je={class:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800"},Ke={key:0,class:"bg-opacity-50 fixed inset-0 z-50 flex items-center justify-center bg-black"},Oe=G({__name:"CustomView",setup(Qe){const q=[{label:"历史古迹",value:"history"},{label:"自然风光",value:"nature"},{label:"美食探索",value:"food"},{label:"文化体验",value:"culture"},{label:"购物娱乐",value:"shopping"},{label:"休闲度假",value:"leisure"}],o=J({days:1,people:1,budget:2e3,selectedInterests:[],specialRequirements:""}),V=S(!1),M=S([[{time:"09:00",activity:"游览金华古城墙"},{time:"11:00",activity:"参观八咏楼"},{time:"12:30",activity:"品尝金华火腿美食"},{time:"14:30",activity:"游览双龙洞景区"},{time:"17:00",activity:"逛金华夜市"}]]),E=K(()=>o.budget<=2e3?"low":o.budget<=5e3?"medium":"high"),R=()=>{const i=[],t=Number(o.days),s=E.value,a=o.selectedInterests,d=new Set;for(let _=0;_<t;_++){const p=[];let c=0;const g=Z[s].perDay,I=N.filter(b=>b.type.some(Y=>a.includes(Y))&&b.cost+c<=g&&!d.has(b.id)),k=I.find(b=>b.bestTimeSlot.includes("morning"));k&&(p.push({time:"09:00",activity:k.name,type:"attraction"}),d.add(k.id),c+=k.cost);const T=U[Math.floor(Math.random()*U.length)];T&&c+T.cost<=g&&(p.push({time:"12:00",activity:`午餐 - ${T.name}`,type:"restaurant"}),c+=T.cost);const v=I.filter(b=>!d.has(b.id)&&b.bestTimeSlot.includes("afternoon"))[0];v&&c+v.cost<=g&&(p.push({time:"14:30",activity:v.name,type:"attraction"}),d.add(v.id),c+=v.cost),(a.includes("food")||a.includes("leisure"))&&c+100<=g&&p.push({time:"18:00",activity:"金华夜市美食之旅",type:"leisure"}),i.push(p)}return i},m=S([]),y=S(!1),z=i=>`¥${i.toLocaleString()}`,x=i=>N.find(t=>t.name===i.replace("游览","").replace("参观","")),j=()=>{let i=0;return M.value.forEach(t=>{t.forEach(s=>{const a=x(s.activity);a&&(i+=a.cost)})}),i},F=()=>(m.value=[],o.days<1&&m.value.push("请选择有效的出行天数"),o.people<1&&m.value.push("请输入有效的出行人数"),o.selectedInterests.length===0&&m.value.push("请至少选择一个兴趣偏好"),m.value.length===0),H=()=>{alert("行程已保存")},P=()=>{const i=`我在Miss.Hui为您定制了${o.days}天的金华旅行行程，快来看看吧！`;navigator.share?navigator.share({title:"金华旅行定制行程",text:i,url:window.location.href}):(alert("已复制分享链接到剪贴板"),navigator.clipboard.writeText(window.location.href))},$=async()=>{if(F()){y.value=!0;try{await new Promise(i=>setTimeout(i,1500)),M.value=R(),V.value=!0}catch{m.value.push("生成行程失败，请重试")}finally{y.value=!1}}};return(i,t)=>(r(),n("div",ee,[L(A,{appear:"","enter-active-class":"transition duration-500 ease-out","enter-from-class":"transform translate-y-8 opacity-0","enter-to-class":"transform translate-y-0 opacity-100"},{default:D(()=>[e("div",te,[t[22]||(t[22]=e("div",{class:"relative mb-12 text-center"},[e("h1",{class:"text-4xl font-bold text-gray-900"},"金华旅行定制"),e("div",{class:"mt-2 text-gray-600"},"专属于您的行程规划"),e("div",{class:"absolute -inset-x-1 bottom-0 h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent"})],-1)),e("div",se,[e("div",oe,[e("form",{onSubmit:O($,["prevent"]),class:"space-y-8"},[e("div",ie,[t[7]||(t[7]=e("h2",{class:"flex items-center text-xl font-semibold text-gray-900"},[e("span",{class:"mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-blue-100 text-sm text-blue-600"},"1"),u(" 基本信息 ")],-1)),e("div",ne,[e("div",re,[t[5]||(t[5]=e("label",{class:"text-sm font-medium text-gray-700"},"出行天数",-1)),h(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.days=s),class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-700 focus:border-blue-500 focus:ring-blue-500"},[(r(),n(f,null,w(5,s=>e("option",{key:s,value:s},l(s)+"天 ",9,le)),64))],512),[[Q,o.days]])]),e("div",ae,[t[6]||(t[6]=e("label",{class:"text-sm font-medium text-gray-700"},"出行人数",-1)),h(e("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=s=>o.people=s),min:"1",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-700 focus:border-blue-500 focus:ring-blue-500"},null,512),[[B,o.people]])])])]),e("div",de,[t[10]||(t[10]=e("h2",{class:"flex items-center text-xl font-semibold text-gray-900"},[e("span",{class:"mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-blue-100 text-sm text-blue-600"},"2"),u(" 预算范围 ")],-1)),e("div",ce,[e("div",ue,[t[8]||(t[8]=e("span",{class:"text-sm text-gray-500"},"最低: ¥500",-1)),e("span",me,"¥"+l(o.budget),1),t[9]||(t[9]=e("span",{class:"text-sm text-gray-500"},"最高: ¥10000",-1))]),h(e("input",{type:"range","onUpdate:modelValue":t[2]||(t[2]=s=>o.budget=s),min:"500",max:"10000",step:"500",class:"range-slider w-full"},null,512),[[B,o.budget,void 0,{number:!0}]])])]),e("div",pe,[t[11]||(t[11]=e("h2",{class:"flex items-center text-xl font-semibold text-gray-900"},[e("span",{class:"mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-blue-100 text-sm text-blue-600"},"3"),u(" 兴趣偏好 ")],-1)),e("div",be,[(r(),n(f,null,w(q,s=>e("label",{key:s.value,class:"flex cursor-pointer items-center rounded-lg border border-gray-200 p-3 hover:border-blue-500"},[h(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=a=>o.selectedInterests=a),value:s.value,class:"mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,8,ge),[[W,o.selectedInterests]]),e("span",fe,l(s.label),1)])),64))])]),e("div",ye,[t[12]||(t[12]=e("h2",{class:"flex items-center text-xl font-semibold text-gray-900"},[e("span",{class:"mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-blue-100 text-sm text-blue-600"},"4"),u(" 特殊要求 ")],-1)),h(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.specialRequirements=s),rows:"3",class:"w-full rounded-lg border border-gray-300 px-3 py-2 text-gray-700 focus:border-blue-500 focus:ring-blue-500",placeholder:"请输入您的特殊要求（选填）"},null,512),[[B,o.specialRequirements]])]),m.value.length?(r(),n("div",xe,[e("div",ve,[t[13]||(t[13]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),e("div",he,[(r(!0),n(f,null,w(m.value,s=>(r(),n("div",{key:s,class:"text-sm text-red-700"},l(s),1))),128))])])])):C("",!0),e("button",{type:"submit",disabled:y.value,class:"btn-submit group relative w-full"},[e("span",_e,[y.value?(r(),n(f,{key:0},[t[14]||(t[14]=e("svg",{class:"mr-2 h-5 w-5 animate-spin",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),t[15]||(t[15]=u(" 生成中... "))],64)):(r(),n("span",ke,t[16]||(t[16]=[u(" 生成定制方案 "),e("svg",{class:"ml-2 h-4 w-4 transition group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)])))])],8,we)],32)])]),L(A,{"enter-active-class":"transition duration-500 ease-out","enter-from-class":"transform translate-y-8 opacity-0","enter-to-class":"transform translate-y-0 opacity-100"},{default:D(()=>[V.value?(r(),n("div",Te,[e("div",Se,[e("div",Ce,[e("div",{class:"flex items-center justify-between"},[t[17]||(t[17]=e("h2",{class:"text-2xl font-bold"},"为您推荐的行程",-1)),e("div",{class:"flex space-x-3"},[e("button",{onClick:H,class:"rounded-lg bg-white/20 px-4 py-2 text-sm font-medium text-white backdrop-blur-sm transition hover:bg-white/30"}," 保存行程 "),e("button",{onClick:P,class:"rounded-lg bg-white/20 px-4 py-2 text-sm font-medium text-white backdrop-blur-sm transition hover:bg-white/30"}," 分享 ")])]),e("div",Me,[e("div",ze,[t[18]||(t[18]=e("div",{class:"text-sm opacity-80"},"总天数",-1)),e("div",Be,l(o.days)+"天 ",1)]),e("div",Ve,[t[19]||(t[19]=e("div",{class:"text-sm opacity-80"},"总预算",-1)),e("div",je,l(z(j())),1)]),e("div",Ie,[t[20]||(t[20]=e("div",{class:"text-sm opacity-80"},"人均费用",-1)),e("div",Le,l(z(j()/o.people)),1)])])]),e("div",De,[(r(!0),n(f,null,w(M.value,(s,a)=>(r(),n("div",{key:a,class:"p-6"},[e("div",Ae,[e("span",Ne,l(a+1),1),e("h3",Ue," 第 "+l(a+1)+" 天行程 ",1)]),e("div",qe,[(r(!0),n(f,null,w(s,(d,_)=>{var p,c,g;return r(),n("div",{key:_,class:"group relative rounded-lg border border-gray-200 p-4 hover:border-blue-200 hover:bg-blue-50"},[e("div",Ee,[e("div",Re,l(d.time),1),e("div",Fe,[e("h4",He,l(d.activity),1),x(d.activity)?(r(),n("div",Pe,[e("p",$e,l((p=x(d.activity))==null?void 0:p.description),1),e("div",Ye,[e("span",Ge," 建议游玩 "+l((c=x(d.activity))==null?void 0:c.duration)+"小时 ",1),e("span",Je," 费用 "+l(z(((g=x(d.activity))==null?void 0:g.cost)||0)),1)])])):C("",!0)])])])}),128))])]))),128))]),t[21]||(t[21]=e("div",{class:"border-t border-gray-100 bg-gray-50 p-6"},[e("h4",{class:"mb-3 font-medium text-gray-900"},"温馨提示"),e("ul",{class:"space-y-2 text-sm text-gray-600"},[e("li",{class:"flex items-center"},[e("svg",{class:"mr-2 h-4 w-4 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"})]),u(" 建议提前预定酒店和景点门票 ")]),e("li",{class:"flex items-center"},[e("svg",{class:"mr-2 h-4 w-4 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"})]),u(" 请注意查看天气预报，合理安排室内外行程 ")]),e("li",{class:"flex items-center"},[e("svg",{class:"mr-2 h-4 w-4 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"})]),u(" 建议携带舒适的步行鞋，部分景点需要步行 ")])])],-1))])])):C("",!0)]),_:1})])]),_:1}),y.value?(r(),n("div",Ke,t[23]||(t[23]=[e("div",{class:"rounded-lg bg-white p-6 shadow-xl"},[e("div",{class:"flex items-center space-x-4"},[e("div",{class:"h-8 w-8 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"}),e("span",{class:"text-lg font-medium"},"正在生成您的专属行程...")])],-1)]))):C("",!0)]))}}),Ze=X(Oe,[["__scopeId","data-v-8b6cdd12"]]);export{Ze as default};
